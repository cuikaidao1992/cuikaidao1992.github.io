<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="renderer" content="webkit">
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<title>角色管理</title>
	<link rel="shortcut icon" href="../../dep/moban/img/favicon.png" type="image/x-icon">
	<!--Basic Styles-->
	<link href="../../dep/moban/css/bootstrap.min.css" rel="stylesheet" />
	<link href="../../dep/moban/css/font-awesome.min.css" rel="stylesheet" />
	<link href="../../dep/moban/css/weather-icons.min.css" rel="stylesheet" />

	<!--Beyond styles-->
	<link href="../../dep/moban/css/beyond.min.css" rel="stylesheet" />
	<link href="../../dep/moban/css/demo.min.css" rel="stylesheet" />
	<link href="../../dep/moban/css/typicons.min.css" rel="stylesheet" />
	<link href="../../dep/moban/css/animate.min.css" rel="stylesheet" />
	<!---->
	<link rel="stylesheet" href="../../home/common/css.css">
	<link rel="stylesheet" href="../../home/sysconfig/sysconfig.css" />

	<!--Skin Script: Place this script in head to load scripts for skins and rtl support-->
	<script src="../../dep/moban/js/skins.min.js"></script>

	<style>
		#registrationForm input {
			width: 80%;
		}

		#registrationForm select,
		textarea {
			width: 80%;
		}

		#editDepart input {
			width: 80%;
		}

		#editDepart select,
		textarea {
			width: 80%;
		}
	</style>
</head>
<body>
	<div class="wrapper">
		<div class="page-breadcrumbs">
			<ul class="breadcrumb">
				<li>
					<i class="fa fa-home"></i>
					<a href="index.html">系统配置管理</a>
				</li>
				<li class="active">
					<a href="#">角色管理</a>
				</li>
			</ul>
		</div>
		<div class="page-header position-relative">
			<div class="header-title">
				<h1>角色管理</h1>
			</div>
			<!--Header Buttons-->
			<div class="header-buttons">
				<a class="sidebar-toggler" href="#">
					<i class="fa fa-arrows-h"></i>
				</a>
				<a class="refresh" id="refresh-toggler" href="">
					<i class="glyphicon glyphicon-refresh"></i>
				</a>
				<a class="fullscreen" id="fullscreen-toggler" href="#">
					<i class="glyphicon glyphicon-fullscreen"></i>
				</a>
			</div>
			<!--头部按钮end-->
		</div>
		<div class="page-body">
			<div class="row">
				<div class="col-xs-12 col-md-12">
					<div class="tabbable">
						<ul class="nav nav-tabs" id="myTab">
							<li class="active">
								<a id="tab-list" data-toggle="tab" href="#home">角色列表</a>
							</li>

							<li class="tab-red">
								<a id="tab-add" data-toggle="tab" href="#profile">角色添加</a>
							</li>
							<li class="tab-blue">
								<a id="tab-edit" data-toggle="tab" href="#editDepart" style="display: none;">
									角色编辑
								</a>
							</li>
							<li class="tab-red">
								<a id="tab-allocate" data-toggle="tab" href="#allocateDepart" style="display: none;">
									角色分配
								</a>
							</li>
						</ul>

						<div class="tab-content">
							<div id="home" class="tab-pane in active">
								<div class="table-toolbar">
									<a href="javascript:deleteBatch()" class="btn btn-darkorange col-padd">
										<i class="fa fa-minus"></i>批量删除
									</a>
								</div>
								<table class="table table-striped table-hover table-bordered" id="bodyHtml">
									<thead>
										<tr role="row">
											<th width="5%">
												<label>
											<input type="checkbox"  id="hvtck">
											<span class="text" id="dohovertree"></span>
										</label>
											</th>
											<th>
												角色名称 <span class="fa indicator fa-unsorted"></span>
											</th>
											<th>
												英文名称 <span class="fa indicator fa-unsorted"></span>
											</th>
											<th>
												归属机构 <span class="fa indicator fa-unsorted"></span>
											</th>
											<th>
												数据范围 <span class="fa indicator fa-unsorted"></span>
											</th>
											<th width="20%">
												操作<span class="fa indicator fa-unsorted"></span>
											</th>
										</tr>
									</thead>

									<tbody>
										<tr>
											<td>
												<label>
											<input type="checkbox" name="myHoverTreechk">
											<span class="text"></span>
										</label>
											</td>
											<td><input type="text" class="six" value="人事" disabled="disabled"></td>
											<td><input type="text" class="six" value="hr" disabled="disabled"></td>
											<td>
												<input type="text" value="山东省总公司" class="six" disabled="disabled">
											</td>
											<td><input type="text" class="six" value="所在公司及以下数据" disabled="disabled"></td>
											<td>
												<a href="#" class="btn btn-default btn-xs distributionClass"><i class="fa fa-bookmark-o"></i> 分配</a>
												<a href="#" class="btn btn-info btn-xs editClass"></i> 修改</a>
												<a href="#" class="btn btn-danger btn-xs removeClass"><i class="fa fa-trash-o"></i> 删除</a>
											</td>
										</tr>
										<tr>
											<td>
												<label>
											<input type="checkbox" name="myHoverTreechk">
											<span class="text"></span>
										</label>
											</td>
											<td><input type="text" class="six" value="人事" disabled="disabled"></td>
											<td><input type="text" class="six" value="hr" disabled="disabled"></td>
											<td>
												<input type="text" value="山东省总公司" class="six" disabled="disabled">
											</td>
											<td><input type="text" class="six" value="所在公司及以下数据" disabled="disabled"></td>
											<td>
												<a href="#" class="btn btn-default btn-xs distributionClass"><i class="fa fa-bookmark-o"></i> 分配</a>
												<a href="#" class="btn btn-info btn-xs editClass"></i> 修改</a>
												<a href="#" class="btn btn-danger btn-xs removeClass"><i class="fa fa-trash-o"></i> 删除</a>
											</td>
										</tr>
										<tr>
											<td>
												<label>
											<input type="checkbox" name="myHoverTreechk">
											<span class="text"></span>
										</label>
											</td>
											<td><input type="text" class="six" value="人事" disabled="disabled"></td>
											<td><input type="text" class="six" value="hr" disabled="disabled"></td>
											<td>
												<input type="text" value="山东省总公司" class="six" disabled="disabled">
											</td>
											<td><input type="text" class="six" value="所在公司及以下数据" disabled="disabled"></td>
											<td>
												<a href="#" class="btn btn-default btn-xs distributionClass"><i class="fa fa-bookmark-o"></i> 分配</a>
												<a href="#" class="btn btn-info btn-xs editClass"></i> 修改</a>
												<a href="#" class="btn btn-danger btn-xs removeClass"><i class="fa fa-trash-o"></i> 删除</a>
											</td>
										</tr>
									</tbody>
								</table>
								<div class="btn-font">
									<div class="zjtm">
										显示1到7共7个条目
									</div>
									<div class="zjrightb">
										<ul class="pagination pull-right">
											<li class="footable-page-arrow disabled"><a data-page="first" href="#first">«</a></li>
											<li class="footable-page-arrow disabled"><a data-page="prev" href="#prev">上一页</a></li>
											<li class="footable-page active"><a data-page="0" href="#">1</a></li>
											<li class="footable-page"><a data-page="1" href="#">2</a></li>
											<li class="footable-page-arrow"><a data-page="next" href="#next">下一页</a></li>
											<li class="footable-page-arrow"><a data-page="last" href="#last">»</a></li>
										</ul>
									</div>
								</div>
							</div>
							<!-- 新增角色 form -->
							<div id="profile" class="tab-pane">

								<form id="registrationForm" method="post" class="form-horizontal" data-bv-message="数据无效" data-bv-feedbackicons-valid="glyphicon glyphicon-ok" data-bv-feedbackicons-invalid="glyphicon glyphicon-remove" data-bv-feedbackicons-validating="glyphicon glyphicon-refresh">

									<div class="form-group">
										<label class="col-lg-4 control-label">归属机构</label>
										<div class="col-lg-8">
											<select name="depart" class="form-control">
											  <option value="0" selected="selected">请选择</option>
											  <option value="1">技术部</option>
											  <option value="2">研发部</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色名称<span class="help-inline"><font color="red">*</font> </span></label>
										<div class="col-lg-8">
											<input type="text" class="form-control" name="roleName" data-bv-notempty="true" data-bv-notempty-message="角色名称不能为空" />
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">英文名称</label>
										<div class="col-lg-8">
											<input type="text" class="form-control" name="englishName" />
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色类型</label>
										<div class="col-lg-8">
											<select name="departType" class="form-control">
											  <option value="0" selected="selected">请选择</option>
											  <option value="1">任务分配</option>
											  <option value="2">管理角色</option>
											  <option value="3">普通角色</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">是否系统数据</label>
										<div class="col-lg-8">
											<input class="checkbox-slider" type="checkbox" checked="checked">
											<span class="text"></span>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">是否可用</label>
										<div class="col-lg-8">
											<input class="checkbox-slider" type="checkbox" checked="checked">
											<span class="text"></span>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">数据范围</label>
										<div class="col-lg-8">
											<select name="departType" class="form-control">
											  <option value="0" selected="selected">请选择</option>
											  <option value="1">所在公司数据</option>
											  <option value="2">所在部门数据</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色授权</label>
										<div class="col-lg-8">
											<div>
												<div class="checkbox">
													<label>
													<input type="checkbox" class="colored-blue checkedAll" checked="checked" >
													<span class="text">系统配置管理</span>
												</label>
												</div>
												<div class="row" style="width: 80%">
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
																<input type="checkbox" class="colored-success checkedSingle" checked="checked">
																<span class="text">用户管理</span>
															</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">角色管理</span>
											</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">菜单管理</span>
											</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">日志管理</span>
											</label>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">备注</label>
										<div class="col-lg-8">
											<textarea rows="3" name="note"></textarea>
										</div>
									</div>

									<div class="form-group">
										<div class="col-lg-offset-4 col-lg-8">
											<input class="btn btn-palegreen" type="submit" value="提交" />
										</div>
									</div>

								</form>
							</div>

							<div id="editDepart" class="tab-pane">

								<form id="editForm" method="post" class="form-horizontal" data-bv-message="数据无效" data-bv-feedbackicons-valid="glyphicon glyphicon-ok" data-bv-feedbackicons-invalid="glyphicon glyphicon-remove" data-bv-feedbackicons-validating="glyphicon glyphicon-refresh">

									<div class="form-group">
										<label class="col-lg-4 control-label">归属机构</label>
										<div class="col-lg-8">
											<select name="depart" class="form-control">
											  <option value="0" >请选择</option>
											  <option value="1" selected="selected">技术部</option>
											  <option value="2">研发部</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色名称<span class="help-inline"><font color="red">*</font> </span></label>
										<div class="col-lg-8">
											<input value="很角色" type="text" class="form-control" name="roleName" data-bv-notempty="true" data-bv-notempty-message="角色名称不能为空" />
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">英文名称</label>
										<div class="col-lg-8">
											<input value="js" type="text" class="form-control" name="englishName" />
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色类型</label>
										<div class="col-lg-8">
											<select name="departType" class="form-control">
											  <option value="0" >请选择</option>
											  <option value="1" selected="selected">任务分配</option>
											  <option value="2">管理角色</option>
											  <option value="3">普通角色</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">是否系统数据</label>
										<div class="col-lg-8">
											<input class="checkbox-slider" type="checkbox" checked="checked">
											<span class="text"></span>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">是否可用</label>
										<div class="col-lg-8">
											<input class="checkbox-slider" type="checkbox" checked="checked">
											<span class="text"></span>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">数据范围</label>
										<div class="col-lg-8">
											<select name="departType" class="form-control">
											  <option value="0" >请选择</option>
											  <option value="1" selected="selected">所在公司数据</option>
											  <option value="2">所在部门数据</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">角色授权</label>
										<div class="col-lg-8">
											<div>
												<div class="checkbox">
													<label>
													<input type="checkbox" class="colored-blue checkedAll" checked="checked" >
													<span class="text">系统配置管理</span>
												</label>
												</div>
												<div class="row">
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">用户管理</span>
											</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">角色管理</span>
											</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" checked="checked">
												<span class="text">菜单管理</span>
											</label>
														</div>
													</div>
													<div class="col-lg-3 col-sm-3 col-xs-3">
														<div class="checkbox">
															<label>
												<input type="checkbox" class="colored-success checkedSingle" >
												<span class="text">日志管理</span>
											</label>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="form-group">
										<label class="col-lg-4 control-label">备注</label>
										<div class="col-lg-8">
											<textarea rows="3" name="note">狠角色</textarea>
										</div>
									</div>

									<div class="form-group">
										<div class="col-lg-offset-4 col-lg-8">
											<input class="btn btn-palegreen" type="submit" value="修改" />
										</div>
									</div>

								</form>

							</div>

							<div id="allocateDepart" class="tab-pane">
								<div class="well bg-palegreen bordered-right bordered-success">
									<div class="row">
										<div class="col-xs-4">
											角色名称：本公司管理员
										</div>
										<div class="col-xs-4">
											归属机构：销售部
										</div>
										<div class="col-xs-4">
											英文名称：js
										</div>
									</div>
									<div class="row">
										<div class="col-xs-4">
											角色类型：assignment
										</div>
										<div class="col-xs-4">
											数据范围：所在公司数据
										</div>
									</div>
								</div>

								<div id="home" class="tab-pane in active">
									<div class="table-toolbar">

										<!--<a href="javascript:allocateRole()" class="btn btn-blue col-padd">
										<i class="fa fa-bookmark-o"></i>分配角色
									</a>-->

									</div>
									<table class="table table-striped table-hover table-bordered" id="bodyHtml">
										<thead>
											<tr role="row">
												<th>
													归属公司 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													归属部门 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													登录名 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													姓名 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													电话 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													手机 <span class="fa indicator fa-unsorted"></span>
												</th>
												<th>
													<span class="fa indicator fa-unsorted"></span>
												</th>
											</tr>
										</thead>

										<tbody>
											<tr>
												<td><input type="text" class="six" value="山东省总公司" disabled="disabled"></td>
												<td><input type="text" class="six" value="研发部" disabled="disabled"></td>
												<td><input type="text" value="sd_admin" class="six" disabled="disabled"></td>
												<td><input type="text" class="six" value="管理员" disabled="disabled"></td>
												<td><input type="text" class="six" value="2333333" disabled="disabled"></td>
												<td><input type="text" class="six" value="15888888888" disabled="disabled"></td>
												<td>
													<a href="#" class="btn btn-danger btn-xs removeClass"><i class="fa fa-trash-o"></i> 移除</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>

							</div>

						</div>
					</div>
				</div>

			</div>

		</div>
		<P class="bottomfont">© 2016 Angel Health Management Ltd. : 天使健康管理有限公司</P>
	</div>
	<!--Basic Scripts-->
	<script src="../../dep/moban/js/jquery-2.0.3.min.js"></script>
	<script src="../../dep/moban/js/bootstrap.min.js"></script>

	<!--Beyond Scripts-->
	<script src="../../dep/moban/js/beyond.min.js"></script>

	<!---->
	<script src="../../dep/moban/js/validation/bootstrapValidator.js"></script>
	<script src="../../dep/moban/js/fuelux/treeview/tree-custom.min.js"></script>
	<script src="../../dep/moban/js/fuelux/treeview/treeview-init.js"></script>
	<script src="../../dep/zTree/js/jquery.ztree.core.min.js"></script>


	<script>
		$(function() {
			$("#registrationForm").bootstrapValidator();
			$("#editForm").bootstrapValidator();
			UITree.init();
			$(".editClass").on('click', function() {
				editClass(this)
			});
			//编辑
			function editClass(_this) {
				$('#tab-edit').show();
				$('#tab-edit').click();
			}
			$(".removeClass").on('click', function() {
				removeClass(this)
			});
			// 删除
			function removeClass(_this) {
				$(_this).parent().parent().remove();
			}
			$('#tab-add,#tab-list').click(function() {
				$('#tab-edit,#tab-allocate').hide();
			})
			$('.distributionClass').click(function() {
					allocateClass(this);
				})
				//分配
			function allocateClass(_this) {
				$('#tab-allocate').show();
				$('#tab-allocate').click();
			}
		});
		window.onload = function() {
			var checkboxs = document.getElementsByName("myHove" + "rTreechk");
			var hvtck = document.getElementById("hvtck");
			cklen = checkboxs.length;
			hvtck.onclick = function() {
				if (this.checked == true) {
					for (var i = 0; i < cklen; i++) {
						checkboxs[i].checked = true;
					}
					document.getElementById("dohovert" + "ree").innerHTML = ""
				} else {
					for (var i = 0; i < cklen; i++) {
						checkboxs[i].checked = false;
					}
					document.getElementById("dohovertree").innerHTML = ""
				}
			}
		}

		function newDepart() {
			$('#tab-add').click();
		}

		function deleteBatch() {
			$('input[name="myHoverTreechk"]').each(function() {
				if ($(this).is(':checked'))
					$(this).parent().parent().parent().remove();
			})
		}
		$('input.checkedAll').change(function() {
			if ($(this).is(':checked')) {
				$(this).parent('label').parent('.checkbox').siblings('.row').find('input').prop("checked", 'checked');
			} else {
				$(this).parent('label').parent('.checkbox').siblings('.row').find('input').prop('checked', '');
			}
		})
		$('input.checkedSingle').change(function() {
			if ($(this).is(':checked')) {
				var isAllChecked = 'checked';
				$(this).closest('.row').find('.checkedSingle').each(function() {
					if (!$(this).is(':checked'))
						isAllChecked = '';
				})
				$(this).closest('.row').siblings('.checkbox').find('.checkedAll').prop('checked', isAllChecked);
			} else {
				$(this).closest('.row').siblings('.checkbox').find('.checkedAll').prop('checked', '');
			}
		})
	</script>

</body>
</html>